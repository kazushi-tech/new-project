# オーガニック食品ECサイト 要件定義ドラフト

## 1. プロジェクト概要

- **プロジェクト名**: OrganicMart
- **プロジェクト種別**: ec-site
- **概要**: オーガニック食品・自然食品に特化したECサイト。生産者から消費者への直販モデル。
- **対象ユーザー**: 健康志向の消費者（30-50代）、オーガニック食品の生産者・農家
- **解決する課題**: オーガニック食品は流通経路が限られ、消費者が入手しにくい。生産者も販路が限定的。
- **競合サービス**: Oisix、食べチョク、ポケットマルシェ
- **収益モデル**: 販売手数料（売上の10-15%）+ 月額出店料

## 2. 機能要件

### FR-001: 商品カタログ

- **優先度**: must
- **説明**: カテゴリ別の商品一覧表示。検索とフィルタリング（産地、認証、価格帯）に対応。
- **ユーザーストーリー**: 購入者として、産地やオーガニック認証で商品を絞り込みたい
- **受入条件**:
  - [ ] 商品カテゴリ（野菜、果物、加工品、飲料等）で一覧表示できること
  - [ ] キーワード検索で商品名・説明文を検索できること
  - [ ] 価格帯、産地、認証マークでフィルタリングできること

### FR-002: カート・購入フロー

- **優先度**: must
- **説明**: カートに商品追加、数量変更、クーポン適用、配送日時指定、購入確定
- **ユーザーストーリー**: 購入者として、複数の生産者の商品をまとめて購入したい
- **受入条件**:
  - [ ] カートに商品を追加・削除・数量変更できること
  - [ ] 配送先住所と配送日時を指定できること
  - [ ] 購入確定後に注文確認メールが送信されること

### FR-003: 会員登録・ログイン

- **優先度**: must
- **説明**: メールアドレスでの会員登録、ログイン、パスワードリセット。SNSログイン対応。
- **ユーザーストーリー**: 購入者として、アカウントを作成して注文履歴やお気に入りを管理したい
- **受入条件**:
  - [ ] メール + パスワードで登録・ログインできること
  - [ ] Google / LINE でのソーシャルログインに対応すること
  - [ ] パスワードリセットがメール経由で可能なこと

### FR-004: 生産者ダッシュボード

- **優先度**: should
- **説明**: 生産者が商品登録・在庫管理・売上確認を行える管理画面
- **ユーザーストーリー**: 生産者として、自分の商品を登録し注文状況を確認したい
- **受入条件**:
  - [ ] 商品情報（名称、価格、説明、画像）を登録・編集できること
  - [ ] 在庫数を管理できること
  - [ ] 注文一覧と売上サマリーを閲覧できること

### FR-005: 決済連携

- **優先度**: must
- **説明**: クレジットカード決済（Stripe経由）、コンビニ決済に対応
- **受入条件**:
  - [ ] Visa / Mastercard / JCB で決済できること
  - [ ] コンビニ決済（セブン、ローソン、ファミマ）に対応すること
  - [ ] 決済エラー時に適切なエラーメッセージを表示すること

## 3. 非機能要件

### NFR-001: パフォーマンス

- 商品一覧ページの表示: 2秒以内
- 同時接続ユーザー数: 500人
- 検索レスポンス: 500ms以内

### NFR-002: セキュリティ

- 決済情報: Stripeに委任（PCI DSS準拠はStripe側）
- 個人情報: データベース暗号化、SSL/TLS通信
- 認証: JWT + リフレッシュトークン

### NFR-003: 可用性

- 稼働率目標: 99.5%
- バックアップ: 日次自動バックアップ
- 障害復旧: RTO 4時間、RPO 1時間

## 4. ユーザーロール

| ロール | 権限 |
|--------|------|
| 購入者 | 商品閲覧、カート操作、注文、注文履歴、お気に入り |
| 生産者 | 商品管理、在庫管理、注文確認、売上閲覧 |
| 管理者 | 全機能 + ユーザー管理、売上管理、クーポン管理 |

## 5. 未決定事項

- 配送業者の選定（ヤマト運輸 / 佐川急便 / 日本郵便）
- クーポン・ポイント制度の詳細設計
- 生産者の審査プロセス
- レビュー・評価機能の導入可否
